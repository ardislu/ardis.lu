env:
  global:
    # Encrypted GitHub personal access token generated with travis encrypt
    secure: "rhrug/p/c+ru+PALe5tbLxcr6bhDVLdrbrllk/DQyLrzKRVdr95LNyCEq5yocjxlhj1naBlxroyAdfzDvKd/DoDgaN+lSqCyNk57Kw31zoGjfbrnQVzVW+D90rZfzDNRr8qpurc5WSm8oLNTPuGowDkOZGLErBCvs/nm6ELt1ZzdJE+I16ZyuK4hBmb9Xrq6A6OJzhkWQysYCI+YxkmSsmdEgdwqyljq8viVH+cqn7bit4DJqPH46Jv2rhwWRQFTSfENkpEAsofDcRGrNouuAFUvg7n2cVo7OFX7AlHsflo02xPjgsI2/JZdG4VQte1n54AjjxoOGURJ5FGo6eAVWCtW4qohOiFpz69dmvZd/h1bVggJPy9UK9hfdfqaL7SkvcgGCsuUG7gpknFdQGN5cZWiLVUoS20Cpx9WLAj/o3VMKeByY1ne7vCtq9cOhjocymvxANlsOyCvP2Umsungf+qSje1tCGy1TAE8g4UajZdhYpO1jrvMbocEdScvFByeN2E9mjC6J6r7HNK1DWIp0UMmn1vE0PrJAXrtkJswfEKDmEzXz5E7K8pHw51GsbJgL3ehD/Vy08j7HJ03Ma6heIDMzQMw/sbSrMfyr1VT07MY24xEelnRSEyTPZkn/VAW7SQ5d5x7j4sfy3e3inaaZ0ekDiPsFpg13zX3wZ+CkgI="

language: node_js

node_js:
  - node # Latest stable release

cache:
  directories:
     - ./node_modules

install:
  - npm i

script:
  - ng build --prod --base-href https://ardis.lu/

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  keep_history: true
  local_dir: dist/ardis-lu-frontend
  fqdn: ardis.lu
  on:
    branch: main